<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>我的作品集</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      overflow-x: hidden;
      transition: background-color 0.3s, color 0.3s;
    }
    .main {
      position: relative;
      height: 300px;
      background: url('https://wallpapers.com/images/high/mega-charizard-x-and-y-29qwraj6n3x08ks8.webp') center/cover no-repeat;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      overflow: hidden;
    }
    .main::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
    }
    .main-content {
      position: relative;
      text-align: center;
      z-index: 1;
    }
    .projects-wrapper {
      position: relative;
      margin: 40px auto 0;
      overflow: hidden;
      width: 90%;
      max-width: 1200px;
      background-color: white;
      border-radius: 15px;
      padding-top: 70px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .folder-buttons {
      position: absolute;
      top: 10px;
      left: 20px;
      display: flex;
      gap: 10px;
    }
    .folder-button {
      background-color: #ccc;
      border: none;
      padding: 10px 20px;
      border-radius: 10px 10px 0 0;
      clip-path: polygon(0 100%, 0 0, 100% 0, 100% 100%, 90% 90%, 10% 90%);
      color: #333;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s, color 0.3s;
    }
    .folder-button.active {
      background-color: rgba(240,240,240,1);
      color: black;
    }
    .projects-container {
      display: flex;
      gap: 20px;
      overflow-x: scroll;
      padding: 20px;
      align-items: center;
      scroll-behavior: smooth;
      scrollbar-width: none;
    }
    .projects-container::-webkit-scrollbar {
      display: none;
    }
    .spacer {
      flex: 0 0 15%;
    }
    .project {
      flex: 0 0 70%;
      position: relative;
      border-radius: 10px;
      overflow: hidden;
      height: 300px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .project img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      background-color: rgba(12,12,12,1);
      transition: filter 0.3s, opacity 0.5s;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
    }
    .project-title-overlay {
      position: relative;
      z-index: 1;
      background-color: rgba(255,255,255,0.7);
      padding: 10px 20px;
      border-radius: 5px;
      transition: background-color 0.3s, color 0.3s;
    }
    .arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      background-color: white;
      border: none;
      border-radius: 50%;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      cursor: pointer;
      font-size: 20px;
      z-index: 2;
    }
    .arrow-left { left: 10px; }
    .arrow-right { right: 10px; }
    .detail-section {
      margin: 20px auto;
      width: 90%;
      max-width: 1200px;
      background-color: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      min-height: 150px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .detail-section.show {
      opacity: 1;
      transform: translateY(0);
    }
    .detail-title {
      font-size: 48px;
      font-weight: bold;
      margin-bottom: 10px;
      text-align: left;
    }
    .detail-content {
      display: flex;
      align-items: flex-start;
      gap: 20px;
    }
    .detail-image {
      width: 100%;
      max-width: 50%;
      height: auto;
      border-radius: 2px;
      object-fit: cover;
    }
    .detail-text {
      flex: 1;
      font-size: 24px;
      line-height: 1.6;
      color: #555;
    }
    .mode-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 999;
      background-color: white;
      color: black;
      border: none;
      padding: 10px 20px;
      border-radius: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    body.dark {
      background-color: #121212;
      color: #e0e0e0;
    }
    body.dark .projects-wrapper,
    body.dark .detail-section {
      background-color: #1e1e1e;
      box-shadow: 0 2px 10px rgba(255,255,255,0.1);
    }
    body.dark .folder-button {
      background-color: #444;
      color: #ccc;
    }
    body.dark .folder-button.active {
      background-color: #666;
      color: white;
    }
    body.dark .mode-toggle {
      background-color: #444;
      color: #eee;
    }
    body.dark .arrow {
      background-color: #333;
      color: white;
    }
    body.dark .project-title-overlay {
      background-color: rgba(0,0,0,0.7);
      color: white;
    }
    body.dark .detail-title {
      color: #fff;
    }
    body.dark .detail-content {
      color: #fff;
    }
    body.dark .detail-text {
      color: #fff;
    }
  </style>
</head>

<body>

<button id="modeToggle" class="mode-toggle">切換模式</button>

<div class="main">
  <div class="main-content">
    <h1>歡迎來到我的作品集</h1>
  </div>
</div>

<div class="projects-wrapper">
  <div class="folder-buttons">
    <button class="folder-button active" onclick="switchCategory('python', this)">Python</button>
    <button class="folder-button" onclick="switchCategory('javascript', this)">Javascript</button>
    <button class="folder-button" onclick="switchCategory('cpp', this)">C++</button>
  </div>

  <button class="arrow arrow-left" onclick="scrollProjects(-1)">&#8592;</button>
  <div class="projects-container" id="projectsContainer">
    <div class="spacer"></div>
  </div>
  <button class="arrow arrow-right" onclick="scrollProjects(1)">&#8594;</button>
</div>

<div class="detail-section" id="detailSection">
  <h2 class="detail-title">標題</h2>
  <hr></hr>
  <div class="detail-content">
    <div class="detail-text" id="detailText">內文</div>
    <img src="" class="detail-image" id="detailImage">
  </div>
</div>

<script>
const projectData = {
  python: [
    { title: "關燈遊戲", img: "https://i.imgur.com/8o7vIKO.png", detailImg: "https://i.imgur.com/WOyg4fn.png", detailTitle: "遊戲介紹", detailContent: "遊戲中有5*5的格子，每個格子都為關燈（.）狀態或開燈（0）狀態，輸入特定格子（列 行）時其格子與上下左右四個格子的狀態都會變成其反面。遊戲目標為將所有格子都變成關燈狀態，此時就會獲勝。<br>程式透過隨機函式庫來產生每局都不同的遊戲，並支援防呆機制，若輸入非範圍內數字或q之值會讓玩家重新輸入，而輸入q時就會讓遊戲直接結束。<br>程式並未支援重複遊玩，因此想要再玩一局需要重新開啟程式。" },
    { title: "數字華容道遊戲", img: "https://i.imgur.com/n6rKoKu.png", detailImg: "https://i.imgur.com/CCjtPuR.png", detailTitle: "遊戲介紹", detailContent: "遊戲由3*3的格子組成，每個格子皆為不重複的0~8其中一個數字，其中0代表為空格。<br>玩家透過輸入wasd來將數字與空格對調位置，而遊戲目標為將格子之數字從左上到右下由小到大排列，且空格在最右下角。<br>遊戲支援防呆機制，如果輸入非wasd或q之值會讓玩家再輸入一次，且如果移動為無效時也會讓玩家再輸入一次，而輸入q時就會讓遊戲直接結束。<br>程式並未支援重複遊玩，因此想要再玩一局需要重新開啟程式。" },
    { title: "踩地雷遊戲", img: "https://i.imgur.com/AQ96KKH.png", detailImg: "https://i.imgur.com/bv2hYCf.png", detailTitle: "遊戲介紹", detailContent: "遊戲由5*5的格子組成，其中有五個格子會是炸彈，其餘格子具有數值，為相鄰四周內炸彈之數量，若四周無炸彈則該格稱為無數字格，且初始設定全部格子皆為隱藏的狀態。<br>玩家透過輸入數值（列 行）來將該格子打開，而遊戲目標為將除了炸彈格子之外的所有格子都打開即勝利。<br>因應用了BFS（廣度優先演算法），若該格子四周皆無炸彈，則相鄰的其他無數字格與數字格都會打開。<br>遊戲支援防呆機制，如果輸入非數值或q之值會讓玩家再輸入一次，且如果該格為無效格時也會讓玩家再輸入一次，而輸入q時就會讓遊戲直接結束。<br>遊戲在打開格子前便已初始化好，因此有可能第一格就踩到地雷。程式並未支援重複遊玩，因此想要再玩一局需要重新開啟程式。" },
    { title: "2048遊戲", img: "https://i.imgur.com/3gh44IC.png", detailImg: "https://i.imgur.com/Bscye7U.png", detailTitle: "遊戲介紹", detailContent: "遊戲由4*4的格子組成，初始會設定隨機兩格有數值，可能為2或4。<br>玩家透過輸入wasd來將數字移動，若移動後兩相同數字在其移動方向重疊則將兩者融合（相加），而遊戲目標為融合出2048。<br>遊戲支援防呆機制，如果輸入非wasd或q之值會讓玩家再輸入一次，且如果該移動為無效移動時也會讓玩家再輸入一次，而輸入q時就會讓遊戲直接結束。<br>程式並未支援重複遊玩，因此想要再玩一局需要重新開啟程式。" }
  ],
  javascript: [
    { title: "作品集網站", img: "https://i.imgur.com/NzmWNrB.png", detailImg: "", detailTitle: "網頁介紹", detailContent: "該網站為我第一次製作的網站，其製作目的為展示我所做過的許多作品。<br>該網站使用無版權背景，支援淺色及深色模式，並透過像資料夾的標籤來將製作過的專案分類。<br>專案部分以左右箭頭來替代橫向滑條，使專案之間能夠更加方便的切換，且未被聚焦的專案會被模糊化。<br>而介紹部分設置為左半邊為文字，右半邊為照片的設計。<br>該網頁有稍微使用ChatGPT協助製作，其中90%為請教語法問題及詢問製作教學，剩下的10%為提供除錯思路。" }
  ],
  cpp: [
    { title: "尚無C++作品", img: "", detailImg: "", detailTitle: "還在學習中", detailContent: "如有任何新成品將會放置上來" }
  ]
};

let currentCategory = 'python';
let currentProjectIndex = 0;

function switchCategory(category, button) {
  currentCategory = category;
  currentProjectIndex = 0;
  document.querySelectorAll('.folder-button').forEach(btn => btn.classList.remove('active'));
  button.classList.add('active');
  renderProjects();
  updateDetail(projectData[currentCategory][currentProjectIndex]);
}

function renderProjects() {
  const container = document.getElementById('projectsContainer');
  container.innerHTML = '<div class="spacer"></div>';

  projectData[currentCategory].forEach(project => {
    const projectDiv = document.createElement('div');
    projectDiv.className = 'project';

    const img = document.createElement('img');
    if (project.img) {
      img.src = project.img;
      img.alt = '';
      projectDiv.appendChild(img);
    }

    const overlay = document.createElement('div');
    overlay.className = 'project-title-overlay';
    overlay.innerHTML = `<h2>${project.title}</h2>`;
    projectDiv.appendChild(overlay);

    container.appendChild(projectDiv);
  });

  container.innerHTML += '<div class="spacer"></div>';
}

function scrollProjects(direction) {
  const container = document.getElementById('projectsContainer');
  const scrollAmount = container.offsetWidth * 0.7 + 20;
  container.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
}

function updateDetail(project) {
  const detail = document.getElementById('detailSection');
  if (project) {
    detail.querySelector('.detail-title').textContent = project.detailTitle;
    detail.querySelector('.detail-content').innerHTML = `
      <div class="detail-text">${project.detailContent}</div>
      <img src="${project.detailImg}" class="detail-image">
    `;
    detail.classList.add('show');
  }
}

function checkCenterProject() {
  const container = document.getElementById('projectsContainer');
  const projects = container.querySelectorAll('.project');
  const containerCenter = container.scrollLeft + container.offsetWidth / 2;
  let closestIndex = 0;
  let closestDistance = Infinity;

  projects.forEach((project, index) => {
    const rect = project.getBoundingClientRect();
    const projectCenter = rect.left + rect.width / 2;
    const distance = Math.abs(projectCenter - window.innerWidth / 2);

    const img = project.querySelector('img');
    if (img) {
      img.style.filter = `blur(${Math.min(distance / 100, 5)}px)`;
      img.style.opacity = 1 - Math.min(distance / 500, 0.5);
    }

    if (distance < closestDistance) {
      closestDistance = distance;
      closestIndex = index;
    }
  });

  currentProjectIndex = closestIndex;
  updateDetail(projectData[currentCategory][currentProjectIndex]);
}

function preloadImages() {
  for (const category in projectData) {
    projectData[category].forEach(project => {
      if (project.img) {
        const img = new Image();
        img.src = project.img;
      }
      if (project.detailImg) {
        const detailImg = new Image();
        detailImg.src = project.detailImg;
      }
    });
  }
}

document.getElementById('projectsContainer').addEventListener('scroll', () => {
  checkCenterProject();
});

document.getElementById('modeToggle').addEventListener('click', () => {
  document.body.classList.toggle('dark');
});

renderProjects();
window.addEventListener('load', () => {
  updateDetail(projectData[currentCategory][currentProjectIndex]);
});
</script>

</body>
</html>
